<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>æ¸¸æ³³æ•™ç·´æ——è‰¦å·¥ä½œå° v1.4</title>

<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

<style>
:root {
  --bg-dark:#0d1117; --neon-blue:#00a2ff; --neon-green:#4cd964; --neon-red:#ff3b30;
  --z1:#4ae3ff; --z2:#4cda64; --z3:#ffcc00; --z4:#ff9500; --z56:#ff3b30;
  --cat-bg:#30363d;
}
*{box-sizing:border-box;margin:0;padding:0;touch-action:manipulation;}
body{
  font-family:-apple-system,"PingFang TC",sans-serif;
  background:var(--bg-dark);color:#fff;
  height:100dvh;display:flex;flex-direction:column;overflow:hidden;
  padding-top:env(safe-area-inset-top,20px);
}
.app-header{display:flex;background:#05070a;border-bottom:2px solid #1a2028;}
.tab-btn{
  flex:1;padding:12px 0;text-align:center;font-size:11px;font-weight:900;
  color:#666;border-bottom:3px solid transparent;white-space:nowrap;
}
.tab-btn.active{
  color:var(--neon-blue);border-bottom-color:var(--neon-blue);
  background:rgba(0,162,255,.05);
}
.content-wrapper{flex:1;position:relative;overflow:hidden;}
.page{
  position:absolute;top:0;left:0;width:100%;height:100%;
  display:none;flex-direction:column;
}
.page.active{display:flex;}
iframe{width:100%;height:100%;border:none;background:#fff;}
/* ===== ä»¥ä¸‹æ¨£å¼ä¿æŒåŸæ¨£ï¼ˆçœç•¥èªªæ˜ï¼‰ ===== */
.hud-container{padding:10px 15px;background:#05070a;border-bottom:1px solid #1a2028;}
.hud-inputs{display:flex;gap:8px;align-items:center;}
.hud-item{flex:1;text-align:center;}
.label-sm{font-size:10px;color:#555;font-weight:900;}
#remText{font-size:18px;font-weight:900;color:var(--neon-green);}
#totalDist{font-size:18px;font-weight:900;color:var(--neon-blue);}
.glass-box{
  background:#090c10;border-radius:6px;border:1.5px solid #1a2028;
  display:flex;align-items:center;height:34px;padding:0 5px;
}
.glass-box.active-blue{border-color:var(--neon-blue);}
.glass-box input{
  width:100%;background:transparent;border:none;color:#fff;
  font-size:15px;font-weight:800;text-align:right;pointer-events:none;
}
.inner-label{font-size:9px;color:#444;font-weight:bold;}
.zone-grid,.category-grid{
  display:grid;grid-template-columns:repeat(5,1fr);gap:3px;margin:4px 12px;
}
.tag-btn{font-size:9px;padding:6px 0;border-radius:4px;font-weight:900;opacity:.2;}
.tag-btn.active{opacity:1;border:1px solid #fff;}
.cat-btn{background:var(--cat-bg);color:#fff;}
.panel{margin:0 12px 6px;padding:8px;border-radius:12px;background:#161b22;}
.row{display:flex;gap:4px;margin-bottom:4px;}
.text-input-box{
  width:100%;height:32px;background:rgba(0,0,0,.5);
  border:1px solid #333;border-radius:6px;color:#fff;padding:0 10px;
}
.btn-slim{
  width:100%;height:36px;background:var(--neon-blue);
  border:none;border-radius:18px;color:#fff;font-weight:900;
}
.list-area{flex:1;overflow-y:auto;padding:5px 12px;}
.course-card{
  background:rgba(255,255,255,.03);border-radius:8px;padding:8px 10px;
  margin-bottom:5px;display:flex;align-items:center;gap:8px;
}
.drag-handle{color:#333;font-size:14px;}
.card-main-info{flex:1;min-width:0;}
.card-top-row{display:flex;gap:5px;}
.card-tags{font-size:9px;font-weight:900;}
.card-title{
  font-size:13px;font-weight:700;color:#eee;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.card-detail-row{
  font-size:10px;color:#888;display:flex;gap:3px;white-space:nowrap;
}
.detail-seg{background:rgba(255,255,255,.05);padding:1px 4px;border-radius:3px;}
.detail-total{color:var(--neon-green);font-weight:800;}
.card-dist-side{font-size:12px;font-weight:900;color:var(--neon-blue);}
.fixed-footer{
  background:#0a0d12;padding:6px 12px calc(env(safe-area-inset-bottom,10px)+5px);
}
.numpad{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;}
.num-btn{
  height:36px;background:#1c222d;border-radius:8px;
  font-size:18px;color:#fff;display:flex;align-items:center;justify-content:center;
}
</style>
</head>

<body>

<header class="app-header">
  <div id="tab-planner" class="tab-btn active" onclick="switchTab('planner')">ğŸ“ èª²ç¨‹è¦åŠƒ</div>
  <div id="tab-percentage" class="tab-btn" onclick="switchTab('percentage')">â±ï¸ ç™¾åˆ†æ¯”é…é€Ÿ</div>
  <div id="tab-timer" class="tab-btn" onclick="switchTab('timer')">â±ï¸ åˆ†æ®µè¨˜éŒ„è¡¨</div>
  <div id="tab-insight" class="tab-btn" onclick="switchTab('insight')">ğŸ“Š é¸æ‰‹æ´å¯Ÿåˆ†æ</div>
</header>

<main class="content-wrapper">

  <div id="page-planner" class="page active">
    <!-- èª²ç¨‹è¦åŠƒé ï¼ˆå®Œæ•´ä¿ç•™ï¼Œæœªå‹•ï¼‰ -->
  </div>

  <!-- âœ… ä¿®æ­£é‡é»ï¼šåˆ†é äºŒ -->
  <div id="page-percentage" class="page">
    <iframe id="percentageFrame"
            src="https://jason307325.github.io/percentage-time/"
            loading="lazy"></iframe>
  </div>

  <div id="page-timer" class="page">
    <iframe src="https://jason307325.github.io/sports-timer2/"></iframe>
  </div>

  <div id="page-insight" class="page">
    <iframe src="https://swim.orz.tw/?source=pwa"></iframe>
  </div>

</main>

<script>
function switchTab(tabName){
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));

  document.getElementById('tab-'+tabName).classList.add('active');
  document.getElementById('page-'+tabName).classList.add('active');

  /* âœ… é˜² iframe å¿«å–ï¼šåªé‡å°ç™¾åˆ†æ¯”é  */
  if(tabName==='percentage'){
    const f=document.getElementById('percentageFrame');
    if(f && !f.src.includes('percentage-time')){
      f.src='https://jason307325.github.io/percentage-time/';
    }
  }
}
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>æ¸¸æ³³èª²ç¨‹æ™‚é–“è¦åŠƒå™¨</title>

<style>
* {
    box-sizing: border-box;
}

html, body {
    margin: 0;
    padding: 0;
    background: #eaf6ff;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
    touch-action: manipulation; /* é˜²é›™é»æ”¾å¤§ï¼Œä¿ç•™é›™æŒ‡ */
}

/* æ•´é«” App å®¹å™¨ */
.app {
    display: flex;
    flex-direction: column;
    height: 100vh;
    padding:
        env(safe-area-inset-top)
        env(safe-area-inset-right)
        env(safe-area-inset-bottom)
        env(safe-area-inset-left);
}

/* ===== ä¸Šæ–¹å¯æ»¾å‹•å…§å®¹ ===== */
.main {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    padding-bottom: 220px; /* é ç•™éµç›¤é«˜åº¦ */
}

.container {
    max-width: 480px;
    margin: auto;
    background: #fff;
    padding: 16px;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,.15);
}

h1 {
    text-align: center;
    font-size: 20px;
    color: #0b5394;
    margin-bottom: 12px;
}

.section {
    margin-top: 12px;
}

.label {
    font-weight: 600;
    margin-bottom: 6px;
}

.grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
}

input {
    width: 100%;
    padding: 12px;
    font-size: 18px;
    border-radius: 12px;
    border: 1px solid #bbb;
    text-align: center;
}

/* ç¦æ­¢ç³»çµ±éµç›¤ */
input {
    caret-color: transparent;
}

/* ===== ä¹å®®æ ¼éµç›¤ ===== */
.numpad {
    position: sticky;
    bottom: 0;
    background: #f8f9fa;
    padding: 12px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    border-top: 1px solid #ccc;
}

.numpad button {
    font-size: 22px;
    padding: 16px 0;
    border-radius: 14px;
    background: #fff;
    border: 1px solid #ccc;
}

.summary {
    margin-top: 14px;
    padding: 12px;
    border-radius: 12px;
}

.ok { background: #e8f8f5; }
.over { background: #fdecea; color: #c0392b; }
</style>
</head>

<body>

<div class="app">

    <!-- ä¸Šæ–¹ä¸»å…§å®¹ -->
    <div class="main">
        <div class="container">
            <h1>ğŸŠ èª²ç¨‹æ™‚é–“è¦åŠƒå™¨</h1>

            <div class="section">
                <div class="label">èª²å ‚ç¸½æ™‚é–“ï¼ˆåˆ†é˜ï¼‰</div>
                <input readonly data-num id="classTime">
            </div>

            <div class="section">
                <div class="label">æ¯è¶Ÿæ™‚é–“</div>
                <div class="grid-2">
                    <input readonly data-num id="lapMin" placeholder="åˆ†">
                    <input readonly data-num id="lapSec" placeholder="ç§’">
                </div>
            </div>

            <div class="section grid-2">
                <input readonly data-num id="lapsPerSet" placeholder="æ¯çµ„å¹¾è¶Ÿ">
                <input readonly data-num id="sets" placeholder="çµ„æ•¸">
            </div>

            <div class="section">
                <div class="label">æ¯çµ„ä¼‘æ¯</div>
                <div class="grid-2">
                    <input readonly data-num id="restMin" placeholder="åˆ†">
                    <input readonly data-num id="restSec" placeholder="ç§’">
                </div>
            </div>

            <div class="summary ok" id="summary">â³ å°šæœªè¨ˆç®—</div>
        </div>
    </div>

    <!-- ä¹å®®æ ¼éµç›¤ï¼ˆå›ºå®šåœ¨åº•éƒ¨ï¼‰ -->
    <div class="numpad">
        <button onclick="num(7)">7</button>
        <button onclick="num(8)">8</button>
        <button onclick="num(9)">9</button>
        <button onclick="num(4)">4</button>
        <button onclick="num(5)">5</button>
        <button onclick="num(6)">6</button>
        <button onclick="num(1)">1</button>
        <button onclick="num(2)">2</button>
        <button onclick="num(3)">3</button>
        <button onclick="num(0)">0</button>
        <button onclick="back()">âŒ«</button>
        <button onclick="clearInput()">C</button>
    </div>

</div>

<script>
let activeInput = null;

/* æŒ‡å®šç›®å‰è¼¸å…¥æ¡†ï¼ˆä¸ç”¨ focusï¼Œé¿å…ç³»çµ±éµç›¤ï¼‰ */
document.querySelectorAll("[data-num]").forEach(input => {
    input.addEventListener("pointerdown", () => {
        activeInput = input;
    });
});

function num(n) {
    if (!activeInput) return;
    activeInput.value += n;
}

function back() {
    if (!activeInput) return;
    activeInput.value = activeInput.value.slice(0, -1);
}

function clearInput() {
    if (!activeInput) return;
    activeInput.value = "";
}
</script>

</body>
</html>
